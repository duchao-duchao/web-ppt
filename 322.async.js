"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[322],{45322:function(oe,H,y){y.d(H,{Z:function(){return w}});var N=y(97857),B=y.n(N),X=y(19632),J=y.n(X),G=y(5574),c=y.n(G),_=y(67294),R=y(65337),I=y(50136),m=y(89609),e=y(85893),V=function(l){var t=l.x,a=l.y,p=l.visible,v=l.onClose,u=l.onSelect,x=(0,e.jsxs)(I.Z,{onClick:function(W){var E=W.key;return u(E)},children:[(0,e.jsx)(I.Z.Item,{children:"\u590D\u5236"},"copy"),(0,e.jsx)(I.Z.Item,{children:"\u7C98\u8D34"},"paste"),(0,e.jsx)(I.Z.Item,{children:"\u5220\u9664"},"delete"),(0,e.jsx)(I.Z.Divider,{}),(0,e.jsx)(I.Z.Item,{children:"\u4E0A\u79FB\u4E00\u5C42"},"bringForward"),(0,e.jsx)(I.Z.Item,{children:"\u4E0B\u79FB\u4E00\u5C42"},"sendBackward")]});return p?(0,e.jsx)("div",{style:{position:"fixed",left:t,top:a,zIndex:1e3},onMouseLeave:v,children:(0,e.jsx)(m.Z,{overlay:x,open:p,onOpenChange:function(W){return!W&&v()},children:(0,e.jsx)("div",{})})}):null},q=V,$=function(l){var t=l.element,a=l.isSelected,p=l.onSelect,v=(0,_.useState)(!1),u=c()(v,2),x=u[0],k=u[1],W=(0,_.useState)(!1),E=c()(W,2),f=E[0],M=E[1],se=(0,_.useState)({x:0,y:0}),Z=c()(se,2),D=Z[0],P=Z[1],T=(0,_.useState)({x:0,y:0,width:0,height:0,left:0,top:0}),K=c()(T,2),d=K[0],ee=K[1],te=(0,_.useState)(""),Y=c()(te,2),O=Y[0],U=Y[1],z=(0,R.L)(),h=z.updateElement,A=z.pause,F=z.resume,ie=(0,_.useCallback)(function(g){if(t.type==="text"&&a&&g.target!==g.currentTarget){g.stopPropagation();return}g.preventDefault(),g.stopPropagation(),A(),k(!0),P({x:g.clientX,y:g.clientY}),p(t.id,g)},[t.id,t.type,a,p,A]),le=(0,_.useCallback)(function(g,j){g.preventDefault(),g.stopPropagation(),A(),M(!0),U(j),ee({x:g.clientX,y:g.clientY,width:t.width,height:t.height,left:t.x||t.left||0,top:t.y||t.top||0})},[t,A]),re=(0,_.useCallback)(function(g){if(x){var j=g.clientX-D.x,L=g.clientY-D.y;h(t.id,{left:(t.x||t.left||0)+j,top:(t.y||t.top||0)+L}),P({x:g.clientX,y:g.clientY})}else if(f){var b=g.clientX-d.x,S=g.clientY-d.y,n=d.width,s=d.height,r=d.left,o=d.top;switch(O){case"top-left":n=Math.max(20,d.width-b),s=Math.max(20,d.height-S),r=d.left+(d.width-n),o=d.top+(d.height-s);break;case"top-right":n=Math.max(20,d.width+b),s=Math.max(20,d.height-S),o=d.top+(d.height-s);break;case"bottom-left":n=Math.max(20,d.width-b),s=Math.max(20,d.height+S),r=d.left+(d.width-n);break;case"bottom-right":n=Math.max(20,d.width+b),s=Math.max(20,d.height+S);break;case"top-center":s=Math.max(20,d.height-S),o=d.top+(d.height-s);break;case"bottom-center":s=Math.max(20,d.height+S);break;case"left-center":n=Math.max(20,d.width-b),r=d.left+(d.width-n);break;case"right-center":n=Math.max(20,d.width+b);break}h(t.id,{width:n,height:s,left:r,top:o})}},[x,f,D,d,O,t.id,t.x,t.left,t.y,t.top,h]),ne=(0,_.useCallback)(function(){(x||f)&&F(),k(!1),M(!1),U("")},[x,f,F]);(0,_.useEffect)(function(){if(x||f)return document.addEventListener("mousemove",re),document.addEventListener("mouseup",ne),function(){document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ne)}},[x,f,re,ne]);var de=function(){var j,L,b,S,n=((j=t.style)===null||j===void 0?void 0:j.stroke)||"#000000",s=((L=t.style)===null||L===void 0?void 0:L.strokeWidth)||2,r=((b=t.style)===null||b===void 0?void 0:b.strokeDasharray)||"",o=((S=t.style)===null||S===void 0?void 0:S.strokeLinecap)||"round";return(0,e.jsx)("svg",{style:{width:"100%",height:"100%"},viewBox:"0 0 ".concat(t.width," ").concat(t.height),preserveAspectRatio:"none",children:(0,e.jsx)("line",{x1:"0",y1:t.height/2,x2:t.width,y2:t.height/2,stroke:n,strokeWidth:s,strokeDasharray:r,strokeLinecap:o})})},ae=function(){var j,L,b,S=t.content||"circle",n=((j=t.style)===null||j===void 0?void 0:j.fill)||"#4096ff",s=((L=t.style)===null||L===void 0?void 0:L.stroke)||"#1677ff",r=((b=t.style)===null||b===void 0?void 0:b.strokeWidth)||2,o={width:"100%",height:"100%"};switch(S){case"circle":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:n,stroke:s,strokeWidth:r})});case"triangle":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"50,10 90,80 10,80",fill:n,stroke:s,strokeWidth:r})});case"diamond":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"50,10 90,50 50,90 10,50",fill:n,stroke:s,strokeWidth:r})});case"star":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"50,5 61,35 95,35 68,57 79,91 50,70 21,91 32,57 5,35 39,35",fill:n,stroke:s,strokeWidth:r})});case"arrow-right":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"10,20 10,80 70,80 70,90 90,50 70,10 70,20",fill:n,stroke:s,strokeWidth:r})});case"hexagon":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"25,15 75,15 90,50 75,85 25,85 10,50",fill:n,stroke:s,strokeWidth:r})});case"heart":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M50,85 C50,85 20,60 20,40 C20,25 30,15 45,15 C47,15 50,20 50,20 C50,20 53,15 55,15 C70,15 80,25 80,40 C80,60 50,85 50,85 Z",fill:n,stroke:s,strokeWidth:r})});case"pentagon":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"50,10 90,35 75,85 25,85 10,35",fill:n,stroke:s,strokeWidth:r})});case"rectangle":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("rect",{x:"15",y:"30",width:"70",height:"40",fill:n,stroke:s,strokeWidth:r})});case"square":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("rect",{x:"25",y:"25",width:"50",height:"50",fill:n,stroke:s,strokeWidth:r})});case"ellipse":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("ellipse",{cx:"50",cy:"50",rx:"40",ry:"25",fill:n,stroke:s,strokeWidth:r})});case"rounded-rectangle":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("rect",{x:"15",y:"30",width:"70",height:"40",rx:"8",ry:"8",fill:n,stroke:s,strokeWidth:r})});case"arrow-left":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"90,20 90,80 30,80 30,90 10,50 30,10 30,20",fill:n,stroke:s,strokeWidth:r})});case"arrow-up":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"20,90 80,90 80,30 90,30 50,10 10,30 20,30",fill:n,stroke:s,strokeWidth:r})});case"arrow-down":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"20,10 80,10 80,70 90,70 50,90 10,70 20,70",fill:n,stroke:s,strokeWidth:r})});case"double-arrow":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"10,50 25,35 25,42 75,42 75,35 90,50 75,65 75,58 25,58 25,65",fill:n,stroke:s,strokeWidth:r})});case"cloud":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M75,60 C85,60 90,54 90,46 C90,38 85,32 75,32 C73,24 65,18 55,18 C45,18 37,24 35,32 C27,32 20,38 20,46 C20,54 27,60 35,60 L75,60 Z",fill:n,stroke:s,strokeWidth:r})});case"speech-bubble":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M15,15 L85,15 C90,15 95,20 95,25 L95,55 C95,60 90,65 85,65 L40,65 L25,80 L35,65 L20,65 C15,65 10,60 10,55 L10,25 C10,20 15,15 20,15 Z",fill:n,stroke:s,strokeWidth:r})});case"thought-bubble":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("ellipse",{cx:"55",cy:"35",rx:"32",ry:"25",fill:n,stroke:s,strokeWidth:r}),(0,e.jsx)("circle",{cx:"35",cy:"65",r:"8",fill:n,stroke:s,strokeWidth:r}),(0,e.jsx)("circle",{cx:"25",cy:"75",r:"4",fill:n,stroke:s,strokeWidth:r})]});case"cross":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"40,10 60,10 60,40 90,40 90,60 60,60 60,90 40,90 40,60 10,60 10,40 40,40",fill:n,stroke:s,strokeWidth:r})});case"plus":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M45,15 L55,15 L55,45 L85,45 L85,55 L55,55 L55,85 L45,85 L45,55 L15,55 L15,45 L45,45 Z",fill:n,stroke:s,strokeWidth:r})});case"minus":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("rect",{x:"15",y:"45",width:"70",height:"10",fill:n,stroke:s,strokeWidth:r})});case"octagon":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"35,15 65,15 85,35 85,65 65,85 35,85 15,65 15,35",fill:n,stroke:s,strokeWidth:r})});case"trapezoid":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"30,25 70,25 85,75 15,75",fill:n,stroke:s,strokeWidth:r})});case"parallelogram":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"25,65 15,35 75,35 85,65",fill:n,stroke:s,strokeWidth:r})});case"lightning":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"55,10 35,45 50,45 45,90 65,55 50,55",fill:n,stroke:s,strokeWidth:r})});case"gear":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M50,30 C60,30 70,40 70,50 C70,60 60,70 50,70 C40,70 30,60 30,50 C30,40 40,30 50,30 Z M45,10 L55,10 L57,20 L65,22 L70,15 L77,22 L70,29 L72,37 L82,39 L82,49 L72,51 L70,59 L77,66 L70,73 L65,66 L57,68 L55,78 L45,78 L43,68 L35,66 L30,73 L23,66 L30,59 L28,51 L18,49 L18,39 L28,37 L30,29 L23,22 L30,15 L35,22 L43,20 Z",fill:n,stroke:s,strokeWidth:r})});case"curved-arrow":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M20,70 Q50,20 80,50 L70,60 L90,70 L70,80 L80,70 Q50,40 30,70",fill:n,stroke:s,strokeWidth:r})});case"circular-arrow":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M50,15 A35,35 0 1,1 15,50 L25,40 L15,30 L5,40 L15,50 A35,35 0 1,0 50,15",fill:n,stroke:s,strokeWidth:r})});case"u-turn-arrow":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M30,80 L30,40 Q30,20 50,20 Q70,20 70,40 L70,60 L60,50 L80,60 L60,70 L70,60 L70,40 Q70,30 50,30 Q30,30 30,40 L30,80",fill:n,stroke:s,strokeWidth:r})});case"arrow-up-right":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"40,80 30,70 60,40 40,40 40,20 80,20 80,60 60,60 60,40 30,70",fill:n,stroke:s,strokeWidth:r})});case"arrow-down-left":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"60,20 70,30 40,60 60,60 60,80 20,80 20,40 40,40 40,60 70,30",fill:n,stroke:s,strokeWidth:r})});case"checkmark":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M15,50 L35,70 L85,20 L75,10 L35,50 L25,40 Z",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r})});case"x-mark":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M25,25 L75,75 M75,25 L25,75",fill:"none",stroke:"#ff4d4f",strokeWidth:r*2,strokeLinecap:"round"})});case"warning":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("polygon",{points:"50,10 90,80 10,80",fill:"#faad14",stroke:"#d48806",strokeWidth:r}),(0,e.jsx)("rect",{x:"45",y:"35",width:"10",height:"25",fill:"white"}),(0,e.jsx)("circle",{cx:"50",cy:"70",r:"4",fill:"white"})]});case"info":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"#1890ff",stroke:"#096dd9",strokeWidth:r}),(0,e.jsx)("circle",{cx:"50",cy:"35",r:"4",fill:"white"}),(0,e.jsx)("rect",{x:"45",y:"50",width:"10",height:"25",fill:"white"})]});case"question":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"#722ed1",stroke:"#531dab",strokeWidth:r}),(0,e.jsx)("path",{d:"M40,40 Q40,30 50,30 Q60,30 60,40 Q60,45 50,50 L50,55",fill:"none",stroke:"white",strokeWidth:"4",strokeLinecap:"round"}),(0,e.jsx)("circle",{cx:"50",cy:"65",r:"3",fill:"white"})]});case"process-rectangle":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("rect",{x:"10",y:"30",width:"80",height:"40",fill:n,stroke:s,strokeWidth:r})});case"decision-diamond":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("polygon",{points:"50,15 85,50 50,85 15,50",fill:"#faad14",stroke:"#d48806",strokeWidth:r})});case"start-end-oval":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("ellipse",{cx:"50",cy:"50",rx:"40",ry:"25",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r})});case"document":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M20,15 L70,15 L80,25 L80,85 L20,85 Z M70,15 L70,25 L80,25",fill:n,stroke:s,strokeWidth:r})});case"database":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("ellipse",{cx:"50",cy:"25",rx:"35",ry:"12",fill:n,stroke:s,strokeWidth:r}),(0,e.jsx)("path",{d:"M15,25 L15,75 Q15,87 50,87 Q85,87 85,75 L85,25",fill:n,stroke:s,strokeWidth:r}),(0,e.jsx)("ellipse",{cx:"50",cy:"50",rx:"35",ry:"6",fill:"none",stroke:s,strokeWidth:r}),(0,e.jsx)("ellipse",{cx:"50",cy:"65",rx:"35",ry:"6",fill:"none",stroke:s,strokeWidth:r})]});case"flower":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("circle",{cx:"50",cy:"30",r:"12",fill:"#ff85c0",stroke:"#f759ab",strokeWidth:r}),(0,e.jsx)("circle",{cx:"70",cy:"50",r:"12",fill:"#ff85c0",stroke:"#f759ab",strokeWidth:r}),(0,e.jsx)("circle",{cx:"50",cy:"70",r:"12",fill:"#ff85c0",stroke:"#f759ab",strokeWidth:r}),(0,e.jsx)("circle",{cx:"30",cy:"50",r:"12",fill:"#ff85c0",stroke:"#f759ab",strokeWidth:r}),(0,e.jsx)("circle",{cx:"50",cy:"50",r:"8",fill:"#faad14",stroke:"#d48806",strokeWidth:r})]});case"leaf":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M50,80 Q30,60 30,40 Q30,20 50,20 Q70,20 70,40 Q70,60 50,80 Z M50,80 Q50,50 70,40",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r})});case"sun":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("circle",{cx:"50",cy:"50",r:"16",fill:"#faad14",stroke:"#d48806",strokeWidth:r}),(0,e.jsxs)("g",{stroke:"#faad14",strokeWidth:"4",strokeLinecap:"round",children:[(0,e.jsx)("line",{x1:"50",y1:"10",x2:"50",y2:"20"}),(0,e.jsx)("line",{x1:"50",y1:"80",x2:"50",y2:"90"}),(0,e.jsx)("line",{x1:"10",y1:"50",x2:"20",y2:"50"}),(0,e.jsx)("line",{x1:"80",y1:"50",x2:"90",y2:"50"}),(0,e.jsx)("line",{x1:"23",y1:"23",x2:"30",y2:"30"}),(0,e.jsx)("line",{x1:"70",y1:"70",x2:"77",y2:"77"}),(0,e.jsx)("line",{x1:"23",y1:"77",x2:"30",y2:"70"}),(0,e.jsx)("line",{x1:"70",y1:"30",x2:"77",y2:"23"})]})]});case"moon":return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("path",{d:"M60,15 A36,36 0 1,0 60,85 A30,30 0 1,1 60,15 Z",fill:"#722ed1",stroke:"#531dab",strokeWidth:r})});case"house":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("polygon",{points:"50,15 15,45 15,85 85,85 85,45",fill:n,stroke:s,strokeWidth:r}),(0,e.jsx)("rect",{x:"40",y:"60",width:"20",height:"25",fill:"#faad14",stroke:"#d48806",strokeWidth:r}),(0,e.jsx)("rect",{x:"60",y:"40",width:"12",height:"12",fill:"#faad14",stroke:"#d48806",strokeWidth:r})]});case"tree":return(0,e.jsxs)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,e.jsx)("rect",{x:"45",y:"70",width:"10",height:"20",fill:"#8b4513",stroke:"#654321",strokeWidth:r}),(0,e.jsx)("circle",{cx:"50",cy:"40",r:"24",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r}),(0,e.jsx)("circle",{cx:"35",cy:"50",r:"16",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r}),(0,e.jsx)("circle",{cx:"65",cy:"50",r:"16",fill:"#52c41a",stroke:"#389e0d",strokeWidth:r})]});default:return(0,e.jsx)("svg",{style:o,viewBox:"0 0 100 100",preserveAspectRatio:"none",children:(0,e.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:n,stroke:s,strokeWidth:r})})}},ce=function(){var j,L,b,S,n,s,r,o={width:"100%",height:"100%",border:"none",outline:"none",background:"transparent"};switch(t.type){case"text":return(0,e.jsx)("div",{style:B()(B()({},o),{},{color:((j=t.style)===null||j===void 0?void 0:j.color)||"#000000",fontSize:((L=t.style)===null||L===void 0?void 0:L.fontSize)||16,fontWeight:((b=t.style)===null||b===void 0?void 0:b.fontWeight)||"normal",fontStyle:((S=t.style)===null||S===void 0?void 0:S.fontStyle)||"normal",textAlign:((n=t.style)===null||n===void 0?void 0:n.textAlign)||"left",display:"flex",alignItems:"center",justifyContent:((s=t.style)===null||s===void 0?void 0:s.textAlign)==="center"?"center":((r=t.style)===null||r===void 0?void 0:r.textAlign)==="right"?"flex-end":"flex-start",padding:"4px",wordBreak:"break-word",cursor:a?"text":"grab"}),contentEditable:a,suppressContentEditableWarning:!0,onBlur:function(xe){h(t.id,{content:xe.target.textContent||""})},children:t.content||"Text"});case"image":return(0,e.jsx)("img",{src:t.content||"",alt:"",style:B()(B()({},o),{},{objectFit:"cover"}),draggable:!1});case"shape":return ae();case"line":return de();default:return null}},ue=function(){return a?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{position:"absolute",top:-2,left:-2,right:-2,bottom:-2,border:"2px solid #1890ff",borderRadius:"2px",pointerEvents:"none"}}),[{position:"top-left",cursor:"nw-resize"},{position:"top-right",cursor:"ne-resize"},{position:"bottom-left",cursor:"sw-resize"},{position:"bottom-right",cursor:"se-resize"},{position:"top-center",cursor:"n-resize"},{position:"bottom-center",cursor:"s-resize"},{position:"left-center",cursor:"w-resize"},{position:"right-center",cursor:"e-resize"}].map(function(j){var L=j.position,b=j.cursor;return(0,e.jsx)("div",{style:B()({position:"absolute",width:8,height:8,backgroundColor:"#1890ff",border:"1px solid #ffffff",borderRadius:"1px",cursor:b},he(L)),onMouseDown:function(n){return le(n,L)}},L)})]}):null},he=function(j){switch(j){case"top-left":return{top:-4,left:-4};case"top-right":return{top:-4,right:-4};case"bottom-left":return{bottom:-4,left:-4};case"bottom-right":return{bottom:-4,right:-4};case"top-center":return{top:-4,left:"50%",transform:"translateX(-50%)"};case"bottom-center":return{bottom:-4,left:"50%",transform:"translateX(-50%)"};case"left-center":return{left:-4,top:"50%",transform:"translateY(-50%)"};case"right-center":return{right:-4,top:"50%",transform:"translateY(-50%)"};default:return{}}};return(0,e.jsxs)("div",{style:{position:"absolute",left:t.x||t.left,top:t.y||t.top,width:t.width,height:t.height,transform:t.rotation?"rotate(".concat(t.rotation,"deg)"):"none",cursor:x?"grabbing":f?"resizing":t.type==="text"&&a?"text":"grab",userSelect:t.type==="text"&&a?"text":"none",zIndex:a?1e3:1},onMouseDown:ie,children:[ce(),ue()]})},C=$,Q=function(){var l,t,a=(0,_.useRef)(null),p=(0,_.useState)({x:0,y:0,visible:!1}),v=c()(p,2),u=v[0],x=v[1],k=(0,R.L)(),W=k.slides,E=k.currentSlideIndex,f=k.selectedElementIds,M=k.setSelectedElementIds,se=k.updateElement,Z=k.deleteElement,D=k.copyElements,P=k.pasteElements,T=k.bringForward,K=k.sendBackward,d=W[E],ee=(0,_.useCallback)(function(h){h.target===h.currentTarget&&M([])},[M]),te=(0,_.useCallback)(function(h){h.preventDefault(),x({x:h.clientX,y:h.clientY,visible:!0})},[]),Y=(0,_.useCallback)(function(h,A){A.stopPropagation(),A.ctrlKey||A.metaKey?f.includes(h)?M(f.filter(function(F){return F!==h})):M([].concat(J()(f),[h])):M([h])},[f,M]),O=(0,_.useCallback)(function(){x(B()(B()({},u),{},{visible:!1}))},[u]),U=(0,_.useCallback)(function(h){h==="copy"?D():h==="paste"?P():h==="delete"?f.forEach(function(A){return Z(A)}):h==="bringForward"?T():h==="sendBackward"&&K(),O()},[O,D,P,Z,T,K,f]),z=(0,_.useCallback)(function(h){(h.key==="Delete"||h.key==="Backspace")&&f.length&&f.forEach(function(F){return Z(F)});var A=h.ctrlKey||h.metaKey;A&&h.key.toLowerCase()==="c"&&f.length&&D(),A&&h.key.toLowerCase()==="v"&&P()},[f,Z,D,P]);return(0,_.useEffect)(function(){return window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[z]),(0,e.jsx)("div",{style:{height:"calc(100vh - 80px)",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)("div",{ref:a,className:"canvas-container",style:{position:"relative",width:"min(80vw, calc((100vh - 80px) * 0.8 * 5/3))",height:"min(80vh - 64px, calc(80vw * 3/5))",maxWidth:"1000px",maxHeight:"600px",aspectRatio:"5/3",border:"1px solid #e5e7eb",backgroundColor:(d==null||(l=d.background)===null||l===void 0?void 0:l.color)||"#ffffff",backgroundImage:d!=null&&(t=d.background)!==null&&t!==void 0&&t.image?"url(".concat(d.background.image,")"):"none",backgroundSize:"cover",backgroundPosition:"center",overflow:"hidden",cursor:"default"},onClick:ee,onContextMenu:te,children:[d==null?void 0:d.elements.map(function(h){return(0,e.jsx)(C,{element:h,isSelected:f.includes(h.id),onSelect:Y},h.id)}),(0,e.jsx)(q,{x:u.x,y:u.y,visible:u.visible,onClose:O,onSelect:U})]})})},w=Q},65337:function(oe,H,y){y.d(H,{L:function(){return $}});var N=y(5574),B=y.n(N),X=y(13769),J=y.n(X),G=y(97857),c=y.n(G),_=y(19632),R=y.n(_),I=y(3341),m=y(23184),e=y(76562),V=y(782),q=["left","top"],$=(0,I.U)()((0,V.tJ)((0,e.O)(function(C,Q){return{slides:[{id:(0,m.Z)(),elements:[{id:(0,m.Z)(),type:"text",content:"\u9879\u76EE\u6C47\u62A5",x:100,y:150,width:400,height:80,style:{fontSize:48,fontWeight:"bold",color:"#1a1a1a",textAlign:"center",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"text",content:"2024\u5E74\u7B2C\u4E00\u5B63\u5EA6\u5DE5\u4F5C\u603B\u7ED3",x:100,y:250,width:400,height:40,style:{fontSize:24,color:"#666666",textAlign:"center",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"shape",shape:"rectangle",x:200,y:320,width:200,height:4,style:{backgroundColor:"#1890ff",borderColor:"#096dd9",borderWidth:0}}]},{id:(0,m.Z)(),elements:[{id:(0,m.Z)(),type:"text",content:"\u6838\u5FC3\u6210\u679C",x:50,y:50,width:200,height:50,style:{fontSize:32,fontWeight:"bold",color:"#1a1a1a",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"shape",shape:"circle",x:80,y:130,width:60,height:60,style:{backgroundColor:"#52c41a",borderColor:"#389e0d",borderWidth:2}},{id:(0,m.Z)(),type:"text",content:"\u7528\u6237\u589E\u957F",x:160,y:140,width:120,height:40,style:{fontSize:20,fontWeight:"bold",color:"#52c41a",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"text",content:"\u65B0\u589E\u7528\u6237 50,000+",x:160,y:175,width:200,height:30,style:{fontSize:16,color:"#666666",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"shape",shape:"circle",x:80,y:230,width:60,height:60,style:{backgroundColor:"#1890ff",borderColor:"#096dd9",borderWidth:2}},{id:(0,m.Z)(),type:"text",content:"\u8425\u6536\u63D0\u5347",x:160,y:240,width:120,height:40,style:{fontSize:20,fontWeight:"bold",color:"#1890ff",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"text",content:"\u540C\u6BD4\u589E\u957F 35%",x:160,y:275,width:200,height:30,style:{fontSize:16,color:"#666666",fontFamily:"Microsoft YaHei"}}]},{id:(0,m.Z)(),elements:[{id:(0,m.Z)(),type:"text",content:"\u672A\u6765\u5C55\u671B",x:50,y:50,width:200,height:50,style:{fontSize:32,fontWeight:"bold",color:"#1a1a1a",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"shape",shape:"rounded-rectangle",x:60,y:130,width:420,height:80,style:{backgroundColor:"#f0f5ff",borderColor:"#b8d4ff",borderWidth:1,borderRadius:8}},{id:(0,m.Z)(),type:"text",content:"Q2 \u76EE\u6807\u89C4\u5212",x:80,y:145,width:150,height:30,style:{fontSize:18,fontWeight:"bold",color:"#1890ff",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"text",content:`\u2022 \u7528\u6237\u89C4\u6A21\u7A81\u7834 100\u4E07
\u2022 \u4EA7\u54C1\u529F\u80FD\u5168\u9762\u5347\u7EA7
\u2022 \u5E02\u573A\u62D3\u5C55\u81F3\u65B0\u9886\u57DF`,x:80,y:175,width:380,height:60,style:{fontSize:14,color:"#333333",fontFamily:"Microsoft YaHei",lineHeight:1.5}},{id:(0,m.Z)(),type:"shape",shape:"rounded-rectangle",x:60,y:240,width:420,height:80,style:{backgroundColor:"#fff7e6",borderColor:"#ffd591",borderWidth:1,borderRadius:8}},{id:(0,m.Z)(),type:"text",content:"\u6218\u7565\u91CD\u70B9",x:80,y:255,width:150,height:30,style:{fontSize:18,fontWeight:"bold",color:"#fa8c16",fontFamily:"Microsoft YaHei"}},{id:(0,m.Z)(),type:"text",content:`\u2022 \u6280\u672F\u521B\u65B0\u9A71\u52A8\u53D1\u5C55
\u2022 \u7528\u6237\u4F53\u9A8C\u6301\u7EED\u4F18\u5316
\u2022 \u56E2\u961F\u80FD\u529B\u5168\u9762\u63D0\u5347`,x:80,y:285,width:380,height:60,style:{fontSize:14,color:"#333333",fontFamily:"Microsoft YaHei",lineHeight:1.5}}]}],currentSlideIndex:0,selectedElementIds:[],name:"\u9879\u76EE\u6C47\u62A5\u6A21\u677F",copiedElements:[],addSlide:function(){C(function(i){return{slides:[].concat(R()(i.slides),[{id:(0,m.Z)(),elements:[]}]),currentSlideIndex:i.slides.length}})},deleteSlide:function(i){C(function(l){return{slides:l.slides.filter(function(t,a){return a!==i}),currentSlideIndex:l.currentSlideIndex>=i?Math.max(0,l.currentSlideIndex-1):l.currentSlideIndex}})},setCurrentSlideIndex:function(i){C({currentSlideIndex:i,selectedElementIds:[]})},updateCurrentSlide:function(i){C(function(l){return{slides:l.slides.map(function(t,a){return a===l.currentSlideIndex?c()(c()({},t),i):t})}})},addElement:function(i){C(function(l){var t=c()(c()({},i),{},{id:(0,m.Z)(),x:i.left,y:i.top});delete t.left,delete t.top;var a=l.slides.map(function(p,v){return v!==l.currentSlideIndex?p:c()(c()({},p),{},{elements:[].concat(R()(p.elements),[t])})});return{slides:a,selectedElementIds:[t.id]}})},updateElement:function(i,l){C(function(t){return{slides:t.slides.map(function(a,p){return p!==t.currentSlideIndex?a:c()(c()({},a),{},{elements:a.elements.map(function(v){if(v.id!==i)return v;var u=l,x=u.left,k=u.top,W=J()(u,q),E=W;return x!==void 0&&(E.x=x),k!==void 0&&(E.y=k),c()(c()({},v),E)})})})}})},deleteElement:function(i){C(function(l){return{slides:l.slides.map(function(t,a){return a!==l.currentSlideIndex?t:c()(c()({},t),{},{elements:t.elements.filter(function(p){return p.id!==i})})}),selectedElementIds:l.selectedElementIds.filter(function(t){return t!==i})}})},setSelectedElementIds:function(i){C({selectedElementIds:i})},copyElements:function(){var i=Q(),l=i.slides,t=i.currentSlideIndex,a=i.selectedElementIds,p=l[t];if(p){var v=p.elements.filter(function(u){return a.includes(u.id)});C({copiedElements:v})}},pasteElements:function(){var i=Q(),l=i.slides,t=i.currentSlideIndex,a=i.copiedElements;if(a.length){var p=a.map(function(v){var u,x;return c()(c()({},v),{},{id:(0,m.Z)(),x:((u=v.x)!==null&&u!==void 0?u:v.left)+20,y:((x=v.y)!==null&&x!==void 0?x:v.top)+20})});C(function(v){return{slides:v.slides.map(function(u,x){return x!==t?u:c()(c()({},u),{},{elements:[].concat(R()(u.elements),R()(p))})}),selectedElementIds:p.map(function(u){return u.id})}})}},bringForward:function(){C(function(i){var l=i.slides,t=i.currentSlideIndex,a=i.selectedElementIds;if(a.length!==1)return i;var p=l[t],v=a[0],u=p.elements.findIndex(function(f){return f.id===v});if(u<p.elements.length-1){var x=R()(p.elements),k=x.splice(u,1),W=B()(k,1),E=W[0];return x.splice(u+1,0,E),c()(c()({},i),{},{slides:l.map(function(f,M){return M===t?c()(c()({},f),{},{elements:x}):f})})}return i})},sendBackward:function(){C(function(i){var l=i.slides,t=i.currentSlideIndex,a=i.selectedElementIds;if(a.length!==1)return i;var p=l[t],v=a[0],u=p.elements.findIndex(function(f){return f.id===v});if(u>0){var x=R()(p.elements),k=x.splice(u,1),W=B()(k,1),E=W[0];return x.splice(u-1,0,E),c()(c()({},i),{},{slides:l.map(function(f,M){return M===t?c()(c()({},f),{},{elements:x}):f})})}return i})},pause:function(){$.temporal.getState().pause()},resume:function(){$.temporal.getState().resume()},setName:function(i){C({name:i})},loadState:function(i){C(function(l){var t;return c()(c()(c()({},l),i),{},{name:(t=i.name)!==null&&t!==void 0?t:l.name})})}}}),{name:"presentation"}))}}]);
