"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[131],{20461:function(Se,T,t){t.r(T),t.d(T,{default:function(){return Ce}});var ke=t(67294),F=t(26058),b={layout:"layout___DVKVb",leftSider:"leftSider___QCJe3",rightSider:"rightSider___LMycZ"},O=t(45322),E=t(65337),V=t(98265),w={slideList:"slideList___pRXQL",actions:"actions___VUtql",list:"list___iIzRx",slideItem:"slideItem___Xm5Ym",active:"active___kASHc"},e=t(85893),J=function(){var l=(0,E.L)(),o=l.slides,n=l.currentSlideIndex,a=l.addSlide,i=l.deleteSlide,s=l.setCurrentSlideIndex;return(0,e.jsxs)("div",{className:w.slideList,children:[(0,e.jsx)("div",{className:w.actions,children:(0,e.jsx)(V.ZP,{onClick:a,block:!0,style:{borderRadius:5},children:"\u6DFB\u52A0\u5E7B\u706F\u7247"})}),(0,e.jsx)("div",{className:w.list,children:o.map(function(v,j){return(0,e.jsx)("div",{className:"".concat(w.slideItem," ").concat(j===n?w.active:""),onClick:function(){return s(j)},children:j+1},v.id)})})]})},X=J,Y=t(46020),H=t.n(Y),K=function(){var l=(0,E.L)(),o=l.slides,n=l.currentSlideIndex,a=l.selectedElementIds,i=l.loadState,s=function(){window.open("/preview")},v=function(){var c=document.querySelector(".leafer-canvas");c&&H()(c).then(function(B){var r=document.createElement("a");r.download="slide.png",r.href=B.toDataURL(),r.click()})},j=function(){var c={slides:o,currentSlideIndex:n,selectedElementIds:a},B=new Blob([JSON.stringify(c)],{type:"application/json"}),r=URL.createObjectURL(B),g=document.createElement("a");g.href=r,g.download="presentation.json",g.click(),URL.revokeObjectURL(r)},k=function(c){var B=new FileReader;return B.onload=function(r){var g,m=(g=r.target)===null||g===void 0?void 0:g.result;if(typeof m=="string"){var u=JSON.parse(m);i(u)}},B.readAsText(c),!1};return(0,e.jsx)("div",{style:{padding:"11px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",height:"40px"},children:(0,e.jsx)("div",{})})},Q=K,A=t(78957),G=t(74627),q=t(19632),P=t.n(q),_=t(3341),ee=(0,_.U)(function(f,l){return{undoStack:[],redoStack:[],execute:function(n){n.execute(),f(function(a){return{undoStack:[].concat(P()(a.undoStack),[n]),redoStack:[]}})},undo:function(){var n=l(),a=n.undoStack,i=n.redoStack;if(a.length>0){var s=a[a.length-1];s.undo(),f({undoStack:a.slice(0,-1),redoStack:[s].concat(P()(i))})}},redo:function(){var n=l(),a=n.undoStack,i=n.redoStack;if(i.length>0){var s=i[0];s.execute(),f({undoStack:[].concat(P()(a),[s]),redoStack:i.slice(1)})}}}}),te=t(97857),p=t.n(te),ne=t(12444),le=t.n(ne),re=t(72004),ae=t.n(re),oe=t(9783),Z=t.n(oe),N=function(){function f(l){le()(this,f),Z()(this,"element",void 0),Z()(this,"elementId",null),this.element=l}return ae()(f,[{key:"execute",value:function(){var o=E.L.getState(),n=o.addElement,a=o.selectedElementIds;n(this.element);var i=E.L.getState().selectedElementIds;this.elementId=i[0]}},{key:"undo",value:function(){var o=this;if(this.elementId){var n=E.L.getState(),a=n.slides,i=n.currentSlideIndex,s=n.updateCurrentSlide,v=a[i],j=p()(p()({},v),{},{elements:v.elements.filter(function(k){return k.id!==o.elementId})});s(j)}}}]),f}(),de=[{type:"circle",name:"\u5706\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"triangle",name:"\u4E09\u89D2\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,40 5,40",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"diamond",name:"\u83F1\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,25 25,45 5,25",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"star",name:"\u661F\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,2 30,18 47,18 34,28 39,44 25,35 11,44 16,28 3,18 20,18",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"arrow-right",name:"\u53F3\u7BAD\u5934",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"5,15 5,35 35,35 35,45 45,25 35,5 35,15",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"hexagon",name:"\u516D\u8FB9\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"15,8 35,8 45,25 35,42 15,42 5,25",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"heart",name:"\u5FC3\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("path",{d:"M25,42 C25,42 10,30 10,20 C10,12 15,8 22,8 C23,8 25,10 25,10 C25,10 27,8 28,8 C35,8 40,12 40,20 C40,30 25,42 25,42 Z",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"pentagon",name:"\u4E94\u8FB9\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,18 38,42 12,42 5,18",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})}],ie=function(){var l=ee(),o=l.execute,n=(0,E.L)(),a=n.slides,i=n.currentSlideIndex,s=n.selectedElementIds,v=n.loadState,j=function(){var u=new N({type:"text",left:150,top:150,width:150,height:50,content:"Hello World",style:{color:"#000000",fontSize:24}});o(u)},k=function(u){var x=new N({type:"shape",left:200,top:200,width:100,height:100,content:u,style:{fill:"#4096ff",stroke:"#1677ff",strokeWidth:2}});o(x)},C=function(){window.open("/preview")},c=function(){var u=document.querySelector(".leafer-canvas");u&&H()(u).then(function(x){var h=document.createElement("a");h.download="slide.png",h.href=x.toDataURL(),h.click()})},B=function(){var u={slides:a,currentSlideIndex:i,selectedElementIds:s},x=new Blob([JSON.stringify(u)],{type:"application/json"}),h=URL.createObjectURL(x),d=document.createElement("a");d.href=h,d.download="presentation.json",d.click(),URL.revokeObjectURL(h)},r=function(u){var x=new FileReader;return x.onload=function(h){var d,y=(d=h.target)===null||d===void 0?void 0:d.result;if(typeof y=="string"){var D=JSON.parse(y);v(D)}},x.readAsText(u),!1},g=(0,e.jsx)("div",{style:{display:"flex"},children:de.map(function(m){return(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"2px",cursor:"pointer",transition:"all 0.2s"},onClick:function(){return k(m.type)},onMouseEnter:function(x){x.currentTarget.style.backgroundColor="#f0f0f0",x.currentTarget.style.borderColor="#1677ff"},onMouseLeave:function(x){x.currentTarget.style.backgroundColor="transparent",x.currentTarget.style.borderColor="#d9d9d9"},children:m.svg},m.type)})});return(0,e.jsxs)("div",{style:{padding:"11px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,e.jsxs)(A.Z,{children:[(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:j,children:(0,e.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",children:[(0,e.jsx)("path",{d:"M8 10.9333L8 6H40V10.9333",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M24 6V42",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M16 42H32",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,e.jsx)(G.Z,{content:g,trigger:"hover",placement:"bottomRight",children:(0,e.jsx)("div",{style:{cursor:"pointer"},children:(0,e.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",children:[(0,e.jsx)("path",{d:"M19 32C11.268 32 5 25.732 5 18C5 10.268 11.268 4 19 4C26.732 4 33 10.268 33 18",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M44 18H18V44H44V18Z",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"})]})})})]}),(0,e.jsx)("div",{})]})},se=ie,ue=t(11665),M=t(34407),U=t(66037),S=t(84896),I=t(37804),ce=t(96074),W=t(86744),L=t(83830),R=M.Z.Title,$=M.Z.Text,he=function(){var l,o,n,a,i,s=(0,E.L)(),v=s.selectedElementIds,j=s.slides,k=s.currentSlideIndex,C=s.updateElement;if(v.length!==1)return(0,e.jsx)("div",{style:{textAlign:"center",color:"#999",padding:"40px 0"},children:(0,e.jsx)($,{type:"secondary",children:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u5143\u7D20"})});var c=v[0],B=j[k],r=B.elements.find(function(h){return h.id===c});if(!r)return(0,e.jsx)(U.Z,{title:"\u5C5E\u6027\u9762\u677F",style:{height:"100%"},children:(0,e.jsx)("div",{style:{textAlign:"center",color:"#999",padding:"40px 0"},children:(0,e.jsx)($,{type:"secondary",children:"\u672A\u627E\u5230\u5143\u7D20"})})});var g=function(d){return function(y){y!==null&&C(c,Z()({},d,y))}},m=function(d){return function(y){C(c,Z()({},d,y.target.value))}},u=function(d){return function(y){var D=typeof y=="string"?y:y.toHexString();C(c,{style:p()(p()({},r.style),{},Z()({},d,D))})}},x=function(d){var y={text:"\u6587\u672C",image:"\u56FE\u7247",shape:"\u56FE\u5F62"};return y[d]||d};return(0,e.jsx)(U.Z,{style:{height:"100%"},bodyStyle:{padding:"16px"},children:(0,e.jsxs)(S.Z,{layout:"vertical",size:"small",children:[(0,e.jsx)(R,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u4F4D\u7F6E\u548C\u5C3A\u5BF8"}),(0,e.jsxs)(A.Z.Compact,{style:{width:"100%",marginBottom:"12px"},children:[(0,e.jsx)(S.Z.Item,{label:"\u5BBD\u5EA6",style:{flex:1,marginBottom:0,marginRight:"8px"},children:(0,e.jsx)(I.Z,{value:r.width,onChange:g("width"),min:1,style:{width:"100%"},placeholder:"\u5BBD\u5EA6"})}),(0,e.jsx)(S.Z.Item,{label:"\u9AD8\u5EA6",style:{flex:1,marginBottom:0},children:(0,e.jsx)(I.Z,{value:r.height,onChange:g("height"),min:1,style:{width:"100%"},placeholder:"\u9AD8\u5EA6"})})]}),(0,e.jsxs)(A.Z.Compact,{style:{width:"100%",marginBottom:"16px"},children:[(0,e.jsx)(S.Z.Item,{label:"X\u5750\u6807",style:{flex:1,marginBottom:0,marginRight:"8px"},children:(0,e.jsx)(I.Z,{value:r.x,onChange:g("x"),style:{width:"100%"},placeholder:"X\u5750\u6807"})}),(0,e.jsx)(S.Z.Item,{label:"Y\u5750\u6807",style:{flex:1,marginBottom:0},children:(0,e.jsx)(I.Z,{value:r.y,onChange:g("y"),style:{width:"100%"},placeholder:"Y\u5750\u6807"})})]}),(0,e.jsx)(ce.Z,{style:{margin:"16px 0"}}),r.type==="text"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(R,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u6587\u672C\u5185\u5BB9"}),(0,e.jsx)(S.Z.Item,{label:"\u6587\u672C\u5185\u5BB9",style:{marginBottom:"16px"},children:(0,e.jsx)(W.Z.TextArea,{value:r.content||"",onChange:m("content"),placeholder:"\u8BF7\u8F93\u5165\u6587\u672C\u5185\u5BB9",rows:3})}),(0,e.jsx)(S.Z.Item,{label:"\u5B57\u4F53\u5927\u5C0F",style:{marginBottom:"16px"},children:(0,e.jsx)(I.Z,{value:((l=r.style)===null||l===void 0?void 0:l.fontSize)||16,onChange:function(d){d!==null&&C(c,{style:p()(p()({},r.style),{},{fontSize:d})})},min:8,max:200,style:{width:"100%"},placeholder:"\u5B57\u4F53\u5927\u5C0F"})}),(0,e.jsx)(S.Z.Item,{label:"\u6587\u5B57\u989C\u8272",style:{marginBottom:"16px"},children:(0,e.jsx)(L.Z,{value:((o=r.style)===null||o===void 0?void 0:o.color)||"#000000",onChange:u("color"),showText:!0,style:{width:"100%"}})})]}),r.type==="shape"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(R,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u56FE\u5F62\u6837\u5F0F"}),(0,e.jsx)(S.Z.Item,{label:"\u586B\u5145\u989C\u8272",style:{marginBottom:"12px"},children:(0,e.jsx)(L.Z,{value:((n=r.style)===null||n===void 0?void 0:n.fill)||"#4096ff",onChange:u("fill"),showText:!0,style:{width:"100%"}})}),(0,e.jsx)(S.Z.Item,{label:"\u8FB9\u6846\u989C\u8272",style:{marginBottom:"12px"},children:(0,e.jsx)(L.Z,{value:((a=r.style)===null||a===void 0?void 0:a.stroke)||"#1677ff",onChange:u("stroke"),showText:!0,style:{width:"100%"}})}),(0,e.jsx)(S.Z.Item,{label:"\u8FB9\u6846\u5BBD\u5EA6",style:{marginBottom:"16px"},children:(0,e.jsx)(I.Z,{value:((i=r.style)===null||i===void 0?void 0:i.strokeWidth)||2,onChange:function(d){d!==null&&C(c,{style:p()(p()({},r.style),{},{strokeWidth:d})})},min:0,max:20,style:{width:"100%"},placeholder:"\u8FB9\u6846\u5BBD\u5EA6"})})]})]})})},ve=he,xe=function(){var l,o,n=(0,E.L)(),a=n.slides,i=n.currentSlideIndex,s=n.updateCurrentSlide,v=a[i],j=function(c){s({background:p()(p()({},v.background),{},{color:c.toHexString()})})},k=function(c){s({background:p()(p()({},v.background),{},{image:c.target.value})})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:"\u80CC\u666F\u8BBE\u7F6E"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{children:"\u80CC\u666F\u989C\u8272\uFF1A"}),(0,e.jsx)(L.Z,{value:(l=v.background)===null||l===void 0?void 0:l.color,onChange:j})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{children:"\u80CC\u666F\u56FE\u7247\uFF1A"}),(0,e.jsx)(W.Z,{value:(o=v.background)===null||o===void 0?void 0:o.image,onChange:k})]})]})},fe=xe,ge={},me=function(){return(0,e.jsx)("div",{className:ge.right,children:(0,e.jsx)(ue.Z,{defaultActiveKey:"1",items:[{label:"\u5C5E\u6027\u9762\u677F",key:"1",children:(0,e.jsx)(ve,{})},{label:"\u80CC\u666F\u9762\u677F",key:"2",children:(0,e.jsx)(fe,{})}]})})},ye=me,z=F.Z.Sider,pe=F.Z.Content,je=function(){return(0,e.jsxs)(F.Z,{className:b.layout,children:[(0,e.jsx)(Q,{}),(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(z,{width:160,className:b.leftSider,children:(0,e.jsx)(X,{})}),(0,e.jsxs)(pe,{children:[(0,e.jsx)(se,{}),(0,e.jsx)(O.Z,{})]}),(0,e.jsx)(z,{width:260,className:b.rightSider,children:(0,e.jsx)(ye,{})})]})]})},Ce=je}}]);
