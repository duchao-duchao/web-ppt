"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[131],{73499:function(we,W,t){t.r(W),t.d(W,{default:function(){return Ie}});var Ze=t(67294),A=t(26058),T={layout:"layout___DVKVb",leftSider:"leftSider___QCJe3",rightSider:"rightSider___LMycZ"},Y=t(45322),w=t(65337),$=t(98265),F={slideList:"slideList___pRXQL",actions:"actions___VUtql",list:"list___iIzRx",slideItem:"slideItem___Xm5Ym",active:"active___kASHc"},e=t(85893),K=function(){var r=(0,w.L)(),s=r.slides,n=r.currentSlideIndex,a=r.addSlide,d=r.deleteSlide,u=r.setCurrentSlideIndex;return(0,e.jsxs)("div",{className:F.slideList,children:[(0,e.jsx)("div",{className:F.actions,children:(0,e.jsx)($.ZP,{onClick:a,block:!0,style:{borderRadius:5},children:"\u6DFB\u52A0\u5E7B\u706F\u7247"})}),(0,e.jsx)("div",{className:F.list,children:s.map(function(C,p){return(0,e.jsx)("div",{className:"".concat(F.slideItem," ").concat(p===n?F.active:""),onClick:function(){return u(p)},children:p+1},C.id)})})]})},Q=K,G=t(46020),z=t.n(G),q=function(){var r=(0,w.L)(),s=r.slides,n=r.currentSlideIndex,a=r.selectedElementIds,d=r.loadState,u=function(){window.open("/preview")},C=function(){var k=document.querySelector(".leafer-canvas");k&&z()(k).then(function(j){var m=document.createElement("a");m.download="slide.png",m.href=j.toDataURL(),m.click()})},p=function(){var k={slides:s,currentSlideIndex:n,selectedElementIds:a},j=new Blob([JSON.stringify(k)],{type:"application/json"}),m=URL.createObjectURL(j),f=document.createElement("a");f.href=m,f.download="presentation.json",f.click(),URL.revokeObjectURL(m)},E=function(k){var j=new FileReader;return j.onload=function(m){var f,x=(f=m.target)===null||f===void 0?void 0:f.result;if(typeof x=="string"){var c=JSON.parse(x);d(c)}},j.readAsText(k),!1};return(0,e.jsx)("div",{style:{padding:"11px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",height:"40px"},children:(0,e.jsx)("div",{})})},_=q,D=t(78957),ee=t(74627),te=t(19632),H=t.n(te),ne=t(3341),le=(0,ne.U)(function(v,r){return{undoStack:[],redoStack:[],execute:function(n){n.execute(),v(function(a){return{undoStack:[].concat(H()(a.undoStack),[n]),redoStack:[]}})},undo:function(){var n=r(),a=n.undoStack,d=n.redoStack;if(a.length>0){var u=a[a.length-1];u.undo(),v({undoStack:a.slice(0,-1),redoStack:[u].concat(H()(d))})}},redo:function(){var n=r(),a=n.undoStack,d=n.redoStack;if(d.length>0){var u=d[0];u.execute(),v({undoStack:[].concat(H()(a),[u]),redoStack:d.slice(1)})}}}}),re=t(97857),g=t.n(re),ae=t(12444),oe=t.n(ae),ie=t(72004),se=t.n(ie),de=t(9783),b=t.n(de),V=function(){function v(r){oe()(this,v),b()(this,"element",void 0),b()(this,"elementId",null),this.element=r}return se()(v,[{key:"execute",value:function(){var s=w.L.getState(),n=s.addElement,a=s.selectedElementIds;n(this.element);var d=w.L.getState().selectedElementIds;this.elementId=d[0]}},{key:"undo",value:function(){var s=this;if(this.elementId){var n=w.L.getState(),a=n.slides,d=n.currentSlideIndex,u=n.updateCurrentSlide,C=a[d],p=g()(g()({},C),{},{elements:C.elements.filter(function(E){return E.id!==s.elementId})});u(p)}}}]),v}(),ue=[{type:"circle",name:"\u5706\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"triangle",name:"\u4E09\u89D2\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,40 5,40",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"diamond",name:"\u83F1\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,25 25,45 5,25",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"star",name:"\u661F\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,2 30,18 47,18 34,28 39,44 25,35 11,44 16,28 3,18 20,18",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"arrow-right",name:"\u53F3\u7BAD\u5934",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"5,15 5,35 35,35 35,45 45,25 35,5 35,15",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"hexagon",name:"\u516D\u8FB9\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"15,8 35,8 45,25 35,42 15,42 5,25",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"heart",name:"\u5FC3\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("path",{d:"M25,42 C25,42 10,30 10,20 C10,12 15,8 22,8 C23,8 25,10 25,10 C25,10 27,8 28,8 C35,8 40,12 40,20 C40,30 25,42 25,42 Z",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})},{type:"pentagon",name:"\u4E94\u8FB9\u5F62",svg:(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",children:(0,e.jsx)("polygon",{points:"25,5 45,18 38,42 12,42 5,18",fill:"#4096ff",stroke:"#1677ff",strokeWidth:"1"})})}],ce=function(){var r=le(),s=r.execute,n=(0,w.L)(),a=n.slides,d=n.currentSlideIndex,u=n.selectedElementIds,C=n.loadState,p=function(){var c=new V({type:"text",left:150,top:150,width:150,height:50,content:"Hello World",style:{color:"#000000",fontSize:24}});s(c)},E=function(c){var o=new V({type:"shape",left:200,top:200,width:100,height:100,content:c,style:{fill:"#4096ff",stroke:"#1677ff",strokeWidth:2}});s(o)},S=function(){window.open("/preview")},k=function(){var c=document.querySelector(".leafer-canvas");c&&z()(c).then(function(o){var B=document.createElement("a");B.download="slide.png",B.href=o.toDataURL(),B.click()})},j=function(){var c={slides:a,currentSlideIndex:d,selectedElementIds:u},o=new Blob([JSON.stringify(c)],{type:"application/json"}),B=URL.createObjectURL(o),l=document.createElement("a");l.href=B,l.download="presentation.json",l.click(),URL.revokeObjectURL(B)},m=function(c){var o=new FileReader;return o.onload=function(B){var l,Z=(l=B.target)===null||l===void 0?void 0:l.result;if(typeof Z=="string"){var U=JSON.parse(Z);C(U)}},o.readAsText(c),!1},f=(0,e.jsx)("div",{style:{display:"flex"},children:ue.map(function(x){return(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"2px",cursor:"pointer",transition:"all 0.2s"},onClick:function(){return E(x.type)},onMouseEnter:function(o){o.currentTarget.style.backgroundColor="#f0f0f0",o.currentTarget.style.borderColor="#1677ff"},onMouseLeave:function(o){o.currentTarget.style.backgroundColor="transparent",o.currentTarget.style.borderColor="#d9d9d9"},children:x.svg},x.type)})});return(0,e.jsxs)("div",{style:{padding:"11px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,e.jsxs)(D.Z,{children:[(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:p,children:(0,e.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",children:[(0,e.jsx)("path",{d:"M8 10.9333L8 6H40V10.9333",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M24 6V42",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M16 42H32",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,e.jsx)(ee.Z,{content:f,trigger:"hover",placement:"bottomRight",children:(0,e.jsx)("div",{style:{cursor:"pointer"},children:(0,e.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",children:[(0,e.jsx)("path",{d:"M19 32C11.268 32 5 25.732 5 18C5 10.268 11.268 4 19 4C26.732 4 33 10.268 33 18",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M44 18H18V44H44V18Z",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"})]})})})]}),(0,e.jsx)("div",{})]})},he=ce,ve=t(11665),O=t(34407),N=t(66037),h=t(84896),R=t(83830),J=t(86744),L=t(37804),fe=t(96074),P=O.Z.Title,xe=O.Z.Text,me=function(){var r,s,n,a,d,u=(0,w.L)(),C=u.selectedElementIds,p=u.slides,E=u.currentSlideIndex,S=u.updateElement,k=u.updateCurrentSlide;if(C.length!==1){var j,m,f=p[E],x=function(i){var y=typeof i=="string"?i:i.toHexString();k({background:g()(g()({},f.background),{},{color:y})})},c=function(i){k({background:g()(g()({},f.background),{},{image:i.target.value})})};return(0,e.jsx)(N.Z,{style:{height:"100%"},bodyStyle:{padding:"16px"},children:(0,e.jsxs)(h.Z,{layout:"vertical",size:"small",children:[(0,e.jsx)(P,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u80CC\u666F\u6837\u5F0F"}),(0,e.jsx)(h.Z.Item,{label:"\u80CC\u666F\u989C\u8272",style:{marginBottom:"16px"},children:(0,e.jsx)(R.Z,{value:((j=f.background)===null||j===void 0?void 0:j.color)||"#ffffff",onChange:x,showText:!0,style:{width:"100%"}})}),(0,e.jsx)(h.Z.Item,{label:"\u80CC\u666F\u56FE\u7247URL",style:{marginBottom:"16px"},children:(0,e.jsx)(J.Z,{value:((m=f.background)===null||m===void 0?void 0:m.image)||"",onChange:c,placeholder:"\u8BF7\u8F93\u5165\u80CC\u666F\u56FE\u7247URL"})})]})})}var o=C[0],B=p[E],l=B.elements.find(function(I){return I.id===o});if(!l)return(0,e.jsx)(N.Z,{title:"\u5C5E\u6027\u9762\u677F",style:{height:"100%"},children:(0,e.jsx)("div",{style:{textAlign:"center",color:"#999",padding:"40px 0"},children:(0,e.jsx)(xe,{type:"secondary",children:"\u672A\u627E\u5230\u5143\u7D20"})})});var Z=function(i){return function(y){y!==null&&S(o,b()({},i,y))}},U=function(i){return function(y){S(o,b()({},i,y.target.value))}},M=function(i){return function(y){var Ee=typeof y=="string"?y:y.toHexString();S(o,{style:g()(g()({},l.style),{},b()({},i,Ee))})}},Le=function(i){var y={text:"\u6587\u672C",image:"\u56FE\u7247",shape:"\u56FE\u5F62"};return y[i]||i};return(0,e.jsx)(N.Z,{style:{height:"100%"},bodyStyle:{padding:"16px"},children:(0,e.jsxs)(h.Z,{layout:"vertical",size:"small",children:[(0,e.jsx)(P,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u4F4D\u7F6E\u548C\u5C3A\u5BF8"}),(0,e.jsxs)(D.Z.Compact,{style:{width:"100%",marginBottom:"12px"},children:[(0,e.jsx)(h.Z.Item,{label:"\u5BBD\u5EA6",style:{flex:1,marginBottom:0,marginRight:"8px"},children:(0,e.jsx)(L.Z,{value:l.width,onChange:Z("width"),min:1,style:{width:"100%"},placeholder:"\u5BBD\u5EA6"})}),(0,e.jsx)(h.Z.Item,{label:"\u9AD8\u5EA6",style:{flex:1,marginBottom:0},children:(0,e.jsx)(L.Z,{value:l.height,onChange:Z("height"),min:1,style:{width:"100%"},placeholder:"\u9AD8\u5EA6"})})]}),(0,e.jsxs)(D.Z.Compact,{style:{width:"100%",marginBottom:"16px"},children:[(0,e.jsx)(h.Z.Item,{label:"X\u5750\u6807",style:{flex:1,marginBottom:0,marginRight:"8px"},children:(0,e.jsx)(L.Z,{value:l.x,onChange:Z("x"),style:{width:"100%"},placeholder:"X\u5750\u6807"})}),(0,e.jsx)(h.Z.Item,{label:"Y\u5750\u6807",style:{flex:1,marginBottom:0},children:(0,e.jsx)(L.Z,{value:l.y,onChange:Z("y"),style:{width:"100%"},placeholder:"Y\u5750\u6807"})})]}),(0,e.jsx)(fe.Z,{style:{margin:"16px 0"}}),l.type==="text"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u6587\u672C\u5185\u5BB9"}),(0,e.jsx)(h.Z.Item,{label:"\u6587\u672C\u5185\u5BB9",style:{marginBottom:"16px"},children:(0,e.jsx)(J.Z.TextArea,{value:l.content||"",onChange:U("content"),placeholder:"\u8BF7\u8F93\u5165\u6587\u672C\u5185\u5BB9",rows:3})}),(0,e.jsx)(h.Z.Item,{label:"\u5B57\u4F53\u5927\u5C0F",style:{marginBottom:"16px"},children:(0,e.jsx)(L.Z,{value:((r=l.style)===null||r===void 0?void 0:r.fontSize)||16,onChange:function(i){i!==null&&S(o,{style:g()(g()({},l.style),{},{fontSize:i})})},min:8,max:200,style:{width:"100%"},placeholder:"\u5B57\u4F53\u5927\u5C0F"})}),(0,e.jsx)(h.Z.Item,{label:"\u6587\u5B57\u989C\u8272",style:{marginBottom:"16px"},children:(0,e.jsx)(R.Z,{value:((s=l.style)===null||s===void 0?void 0:s.color)||"#000000",onChange:M("color"),showText:!0,style:{width:"100%"}})})]}),l.type==="shape"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P,{level:5,style:{margin:"0 0 12px 0",fontSize:"14px"},children:"\u56FE\u5F62\u6837\u5F0F"}),(0,e.jsx)(h.Z.Item,{label:"\u586B\u5145\u989C\u8272",style:{marginBottom:"12px"},children:(0,e.jsx)(R.Z,{value:((n=l.style)===null||n===void 0?void 0:n.fill)||"#4096ff",onChange:M("fill"),showText:!0,style:{width:"100%"}})}),(0,e.jsx)(h.Z.Item,{label:"\u8FB9\u6846\u989C\u8272",style:{marginBottom:"12px"},children:(0,e.jsx)(R.Z,{value:((a=l.style)===null||a===void 0?void 0:a.stroke)||"#1677ff",onChange:M("stroke"),showText:!0,style:{width:"100%"}})}),(0,e.jsx)(h.Z.Item,{label:"\u8FB9\u6846\u5BBD\u5EA6",style:{marginBottom:"16px"},children:(0,e.jsx)(L.Z,{value:((d=l.style)===null||d===void 0?void 0:d.strokeWidth)||2,onChange:function(i){i!==null&&S(o,{style:g()(g()({},l.style),{},{strokeWidth:i})})},min:0,max:20,style:{width:"100%"},placeholder:"\u8FB9\u6846\u5BBD\u5EA6"})})]})]})})},ge=me,ye=function(){return(0,e.jsx)("div",{children:(0,e.jsx)("h2",{children:"\u52A8\u753B\u8BBE\u7F6E"})})},pe=ye,je={},Ce=function(){return(0,e.jsx)("div",{className:je.right,children:(0,e.jsx)(ve.Z,{defaultActiveKey:"1",tabBarStyle:{padding:"0 16px"},items:[{label:"\u6837\u5F0F",key:"1",children:(0,e.jsx)(ge,{})},{label:"\u52A8\u753B",key:"2",children:(0,e.jsx)(pe,{})}]})})},Se=Ce,X=A.Z.Sider,ke=A.Z.Content,Be=function(){return(0,e.jsxs)(A.Z,{className:T.layout,children:[(0,e.jsx)(_,{}),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(X,{width:160,className:T.leftSider,children:(0,e.jsx)(Q,{})}),(0,e.jsxs)(ke,{children:[(0,e.jsx)(he,{}),(0,e.jsx)(Y.Z,{})]}),(0,e.jsx)(X,{width:260,className:T.rightSider,children:(0,e.jsx)(Se,{})})]})]})},Ie=Be}}]);
